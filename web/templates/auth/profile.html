{% extends "base.html" %}
{% block page_title %}My Profile{% endblock %}
{% block content %}
<div class="card" style="max-width:420px;">
    <div class="card-header"><h3>Change Password</h3></div>
    {% if error %}
    <div style="background:rgba(239,68,68,0.1);border:1px solid rgba(239,68,68,0.3);border-radius:6px;padding:10px 14px;font-size:13px;color:var(--red);margin-bottom:16px;">{{ error }}</div>
    {% endif %}
    {% if success %}
    <div style="background:rgba(34,197,94,0.1);border:1px solid rgba(34,197,94,0.3);border-radius:6px;padding:10px 14px;font-size:13px;color:var(--green);margin-bottom:16px;">{{ success }}</div>
    {% endif %}
    <div style="margin-bottom:16px;font-size:13px;color:var(--text-muted);">
        Logged in as <strong style="color:var(--text-primary);">{{ current_user.username }}</strong>
        <span class="badge" style="margin-left:6px;font-size:10px;">{{ current_user.role }}</span>
    </div>
    <form method="POST">
        <div class="form-group">
            <label>Current Password</label>
            <input class="form-control" type="password" name="current_password" required>
        </div>
        <div class="form-group">
            <label>New Password</label>
            <input class="form-control" type="password" name="new_password" required minlength="6">
        </div>
        <div class="form-group">
            <label>Confirm New Password</label>
            <input class="form-control" type="password" name="confirm_password" required minlength="6">
        </div>
        <button class="btn btn-primary" type="submit">Update Password</button>
    </form>
</div>
{% endblock %}
