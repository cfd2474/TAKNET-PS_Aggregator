<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Access — TAKNET-PS</title>
    <style>
        :root {
            --bg-primary: #0f1923; --bg-card: #1e2d3d; --bg-input: #162029;
            --border: #2a3a4a; --text-primary: #e8edf2; --text-secondary: #8899aa;
            --text-muted: #5a6a7a; --accent: #3b82f6; --accent-hover: #2563eb;
            --green: #22c55e; --red: #ef4444;
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        body { background: var(--bg-primary); color: var(--text-primary);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            min-height: 100vh; display: flex; flex-direction: column;
            align-items: center; justify-content: center; padding: 16px; }
        .logo-wrap { text-align: center; margin-bottom: 28px; }
        .logo-wrap img { width: 80vw; max-width: 640px; height: auto; mix-blend-mode: lighten; }
        .card { background: var(--bg-card); border: 1px solid var(--border); border-radius: 12px; padding: 32px; width: 100%; max-width: 400px; }
        .card-label { font-size: 11px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: .08em; text-align: center; margin-bottom: 24px; }
        .form-group { margin-bottom: 16px; }
        .form-group label { display: block; font-size: 11px; font-weight: 500; color: var(--text-muted); text-transform: uppercase; letter-spacing: .05em; margin-bottom: 6px; }
        .form-group input { width: 100%; background: var(--bg-input); border: 1px solid var(--border); border-radius: 6px; padding: 10px 12px; color: var(--text-primary); font-size: 14px; outline: none; transition: border-color .15s; }
        .form-group input:focus { border-color: var(--accent); }
        .btn { width: 100%; margin-top: 8px; padding: 11px; border: none; border-radius: 6px; font-size: 14px; font-weight: 600; cursor: pointer; transition: background .15s; }
        .btn-primary { background: var(--accent); color: #fff; }
        .btn-primary:hover { background: var(--accent-hover); }
        .btn-ghost { background: transparent; border: 1px solid var(--border); color: var(--text-secondary); margin-top: 8px; }
        .btn-ghost:hover { border-color: var(--accent); color: var(--text-primary); }
        .msg-error { background: rgba(239,68,68,0.1); border: 1px solid rgba(239,68,68,0.3); border-radius: 6px; padding: 10px 14px; font-size: 13px; color: var(--red); margin-bottom: 16px; }
        .msg-success { background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.3); border-radius: 6px; padding: 14px; font-size: 13px; color: var(--green); text-align: center; }
        .back-link { text-align: center; margin-top: 16px; font-size: 12px; color: var(--text-muted); }
        .back-link a { color: var(--accent); text-decoration: none; }
    </style>
</head>
<body>
<div class="logo-wrap">
    <img src="/static/img/taknetlogo.png" alt="TAKNET-PS">
</div>
<div class="card">
    <div class="card-label">Request Access</div>
    {% if success %}
    <div class="msg-success">
        ✓ Request submitted. An administrator will review your account.<br>
        You can now <a href="/login" style="color:var(--accent);">sign in</a> — you'll see a pending status until approved.
    </div>
    {% else %}
    {% if error %}
    <div class="msg-error">{{ error }}</div>
    {% endif %}
    <form method="POST">
        <div class="form-group">
            <label>Username</label>
            <input type="text" name="username" autocomplete="username" autofocus required minlength="3">
        </div>
        <div class="form-group">
            <label>Password</label>
            <input type="password" name="password" autocomplete="new-password" required minlength="6">
        </div>
        <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" name="confirm_password" autocomplete="new-password" required>
        </div>
        <button class="btn btn-primary" type="submit">Submit Request</button>
    </form>
    {% endif %}
</div>
<div class="back-link"><a href="/login">← Back to Sign In</a></div>
</body>
</html>
